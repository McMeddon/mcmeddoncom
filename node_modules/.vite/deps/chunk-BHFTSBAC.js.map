{
  "version": 3,
  "sources": ["../../@bbob/plugin-helper/es/char.js", "../../@bbob/plugin-helper/es/helpers.js", "../../@bbob/plugin-helper/es/TagNode.js"],
  "sourcesContent": ["const N = '\\n';\nconst TAB = '\\t';\nconst F = '\\f';\nconst R = '\\r';\nconst EQ = '=';\nconst QUOTEMARK = '\"';\nconst SPACE = ' ';\nconst OPEN_BRAKET = '[';\nconst CLOSE_BRAKET = ']';\nconst SLASH = '/';\nconst BACKSLASH = '\\\\';\nexport { N, F, R, EQ, TAB, SPACE, SLASH, BACKSLASH, QUOTEMARK, OPEN_BRAKET, CLOSE_BRAKET };\n", "import { N } from './char';\nconst isTagNode = (el)=>typeof el === 'object' && !!el.tag;\nconst isStringNode = (el)=>typeof el === 'string';\nconst isEOL = (el)=>el === N;\nconst keysReduce = (obj, reduce, def)=>Object.keys(obj).reduce(reduce, def);\nconst getNodeLength = (node)=>{\n    if (isTagNode(node)) {\n        return node.content.reduce((count, contentNode)=>count + getNodeLength(contentNode), 0);\n    }\n    if (isStringNode(node)) {\n        return node.length;\n    }\n    return 0;\n};\n/**\n * Appends value to Tag Node\n * @param {TagNode} node\n * @param value\n */ const appendToNode = (node, value)=>{\n    node.content.push(value);\n};\n/**\n * Replaces \" to &qquot;\n * @param {String} value\n */ const escapeHTML = (value)=>value.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&#039;')// eslint-disable-next-line no-script-url\n    .replace(/(javascript|data|vbscript):/gi, '$1%3A');\n/**\n * Acept name and value and return valid html5 attribute string\n * @param {String} name\n * @param {String} value\n * @return {string}\n */ const attrValue = (name, value)=>{\n    const type = typeof value;\n    const types = {\n        boolean: ()=>value ? `${name}` : '',\n        number: ()=>`${name}=\"${value}\"`,\n        string: ()=>`${name}=\"${escapeHTML(value)}\"`,\n        object: ()=>`${name}=\"${escapeHTML(JSON.stringify(value))}\"`\n    };\n    return types[type] ? types[type]() : '';\n};\n/**\n * Transforms attrs to html params string\n * @param values\n */ const attrsToString = (values)=>{\n    // To avoid some malformed attributes\n    if (values == null) {\n        return '';\n    }\n    return keysReduce(values, (arr, key)=>[\n            ...arr,\n            attrValue(key, values[key])\n        ], [\n        ''\n    ]).join(' ');\n};\n/**\n * Gets value from\n * @example\n * getUniqAttr({ 'foo': true, 'bar': bar' }) => 'bar'\n * @param attrs\n * @returns {string}\n */ const getUniqAttr = (attrs)=>keysReduce(attrs, (res, key)=>attrs[key] === key ? attrs[key] : null, null);\nexport { attrsToString, attrValue, appendToNode, escapeHTML, getNodeLength, getUniqAttr, isTagNode, isStringNode, isEOL };\n", "import { OPEN_BRAKET, CLOSE_BRAKET, SLASH } from './char';\nimport { getNodeLength, appendToNode, attrsToString, attrValue, getUniqAttr } from './helpers';\nconst getTagAttrs = (tag, params)=>{\n    const uniqAattr = getUniqAttr(params);\n    if (uniqAattr) {\n        const tagAttr = attrValue(tag, uniqAattr);\n        const attrs = {\n            ...params\n        };\n        delete attrs[uniqAattr];\n        const attrsStr = attrsToString(attrs);\n        return `${tagAttr}${attrsStr}`;\n    }\n    return `${tag}${attrsToString(params)}`;\n};\nclass TagNode {\n    attr(name, value) {\n        if (typeof value !== 'undefined') {\n            this.attrs[name] = value;\n        }\n        return this.attrs[name];\n    }\n    append(value) {\n        return appendToNode(this, value);\n    }\n    get length() {\n        return getNodeLength(this);\n    }\n    toTagStart({ openTag =OPEN_BRAKET , closeTag =CLOSE_BRAKET  } = {}) {\n        const tagAttrs = getTagAttrs(this.tag, this.attrs);\n        return `${openTag}${tagAttrs}${closeTag}`;\n    }\n    toTagEnd({ openTag =OPEN_BRAKET , closeTag =CLOSE_BRAKET  } = {}) {\n        return `${openTag}${SLASH}${this.tag}${closeTag}`;\n    }\n    toTagNode() {\n        return new TagNode(this.tag.toLowerCase(), this.attrs, this.content);\n    }\n    toString({ openTag =OPEN_BRAKET , closeTag =CLOSE_BRAKET  } = {}) {\n        const isEmpty = this.content.length === 0;\n        const content = this.content.reduce((r, node)=>r + node.toString({\n                openTag,\n                closeTag\n            }), '');\n        const tagStart = this.toTagStart({\n            openTag,\n            closeTag\n        });\n        if (isEmpty) {\n            return tagStart;\n        }\n        return `${tagStart}${content}${this.toTagEnd({\n            openTag,\n            closeTag\n        })}`;\n    }\n    constructor(tag, attrs, content){\n        this.tag = tag;\n        this.attrs = attrs;\n        this.content = Array.isArray(content) ? content : [\n            content\n        ];\n    }\n}\nTagNode.create = (tag, attrs = {}, content = [])=>new TagNode(tag, attrs, content);\nTagNode.isOf = (node, type)=>node.tag === type;\nexport { TagNode };\nexport default TagNode;\n"],
  "mappings": ";AAAA,IAAM,IAAI;AACV,IAAM,MAAM;AAGZ,IAAM,KAAK;AACX,IAAM,YAAY;AAClB,IAAM,QAAQ;AACd,IAAM,cAAc;AACpB,IAAM,eAAe;AACrB,IAAM,QAAQ;AACd,IAAM,YAAY;;;ACTlB,IAAM,YAAY,CAAC,OAAK,OAAO,OAAO,YAAY,CAAC,CAAC,GAAG;AACvD,IAAM,eAAe,CAAC,OAAK,OAAO,OAAO;AAEzC,IAAM,aAAa,CAAC,KAAK,QAAQ,QAAM,OAAO,KAAK,GAAG,EAAE,OAAO,QAAQ,GAAG;AAC1E,IAAM,gBAAgB,CAAC,SAAO;AAC1B,MAAI,UAAU,IAAI,GAAG;AACjB,WAAO,KAAK,QAAQ,OAAO,CAAC,OAAO,gBAAc,QAAQ,cAAc,WAAW,GAAG,CAAC;AAAA,EAC1F;AACA,MAAI,aAAa,IAAI,GAAG;AACpB,WAAO,KAAK;AAAA,EAChB;AACA,SAAO;AACX;AAKI,IAAM,eAAe,CAAC,MAAM,UAAQ;AACpC,OAAK,QAAQ,KAAK,KAAK;AAC3B;AAII,IAAM,aAAa,CAAC,UAAQ,MAAM,QAAQ,MAAM,OAAO,EAAE,QAAQ,MAAM,MAAM,EAAE,QAAQ,MAAM,MAAM,EAAE,QAAQ,MAAM,QAAQ,EAAE,QAAQ,MAAM,QAAQ,EAClJ,QAAQ,iCAAiC,OAAO;AAMjD,IAAM,YAAY,CAAC,MAAM,UAAQ;AACjC,QAAM,OAAO,OAAO;AACpB,QAAM,QAAQ;AAAA,IACV,SAAS,MAAI,QAAQ,GAAG,SAAS;AAAA,IACjC,QAAQ,MAAI,GAAG,SAAS;AAAA,IACxB,QAAQ,MAAI,GAAG,SAAS,WAAW,KAAK;AAAA,IACxC,QAAQ,MAAI,GAAG,SAAS,WAAW,KAAK,UAAU,KAAK,CAAC;AAAA,EAC5D;AACA,SAAO,MAAM,IAAI,IAAI,MAAM,IAAI,EAAE,IAAI;AACzC;AAII,IAAM,gBAAgB,CAAC,WAAS;AAEhC,MAAI,UAAU,MAAM;AAChB,WAAO;AAAA,EACX;AACA,SAAO,WAAW,QAAQ,CAAC,KAAK,QAAM;AAAA,IAC9B,GAAG;AAAA,IACH,UAAU,KAAK,OAAO,GAAG,CAAC;AAAA,EAC9B,GAAG;AAAA,IACH;AAAA,EACJ,CAAC,EAAE,KAAK,GAAG;AACf;AAOI,IAAM,cAAc,CAAC,UAAQ,WAAW,OAAO,CAAC,KAAK,QAAM,MAAM,GAAG,MAAM,MAAM,MAAM,GAAG,IAAI,MAAM,IAAI;;;AC5D3G,IAAM,cAAc,CAAC,KAAK,WAAS;AAC/B,QAAM,YAAY,YAAY,MAAM;AACpC,MAAI,WAAW;AACX,UAAM,UAAU,UAAU,KAAK,SAAS;AACxC,UAAM,QAAQ;AAAA,MACV,GAAG;AAAA,IACP;AACA,WAAO,MAAM,SAAS;AACtB,UAAM,WAAW,cAAc,KAAK;AACpC,WAAO,GAAG,UAAU;AAAA,EACxB;AACA,SAAO,GAAG,MAAM,cAAc,MAAM;AACxC;AACA,IAAM,UAAN,MAAc;AAAA,EACV,KAAK,MAAM,OAAO;AACd,QAAI,OAAO,UAAU,aAAa;AAC9B,WAAK,MAAM,IAAI,IAAI;AAAA,IACvB;AACA,WAAO,KAAK,MAAM,IAAI;AAAA,EAC1B;AAAA,EACA,OAAO,OAAO;AACV,WAAO,aAAa,MAAM,KAAK;AAAA,EACnC;AAAA,EACA,IAAI,SAAS;AACT,WAAO,cAAc,IAAI;AAAA,EAC7B;AAAA,EACA,WAAW,EAAE,UAAS,aAAc,WAAU,aAAc,IAAI,CAAC,GAAG;AAChE,UAAM,WAAW,YAAY,KAAK,KAAK,KAAK,KAAK;AACjD,WAAO,GAAG,UAAU,WAAW;AAAA,EACnC;AAAA,EACA,SAAS,EAAE,UAAS,aAAc,WAAU,aAAc,IAAI,CAAC,GAAG;AAC9D,WAAO,GAAG,UAAU,QAAQ,KAAK,MAAM;AAAA,EAC3C;AAAA,EACA,YAAY;AACR,WAAO,IAAI,QAAQ,KAAK,IAAI,YAAY,GAAG,KAAK,OAAO,KAAK,OAAO;AAAA,EACvE;AAAA,EACA,SAAS,EAAE,UAAS,aAAc,WAAU,aAAc,IAAI,CAAC,GAAG;AAC9D,UAAM,UAAU,KAAK,QAAQ,WAAW;AACxC,UAAM,UAAU,KAAK,QAAQ,OAAO,CAAC,GAAG,SAAO,IAAI,KAAK,SAAS;AAAA,MACzD;AAAA,MACA;AAAA,IACJ,CAAC,GAAG,EAAE;AACV,UAAM,WAAW,KAAK,WAAW;AAAA,MAC7B;AAAA,MACA;AAAA,IACJ,CAAC;AACD,QAAI,SAAS;AACT,aAAO;AAAA,IACX;AACA,WAAO,GAAG,WAAW,UAAU,KAAK,SAAS;AAAA,MACzC;AAAA,MACA;AAAA,IACJ,CAAC;AAAA,EACL;AAAA,EACA,YAAY,KAAK,OAAO,SAAQ;AAC5B,SAAK,MAAM;AACX,SAAK,QAAQ;AACb,SAAK,UAAU,MAAM,QAAQ,OAAO,IAAI,UAAU;AAAA,MAC9C;AAAA,IACJ;AAAA,EACJ;AACJ;AACA,QAAQ,SAAS,CAAC,KAAK,QAAQ,CAAC,GAAG,UAAU,CAAC,MAAI,IAAI,QAAQ,KAAK,OAAO,OAAO;AACjF,QAAQ,OAAO,CAAC,MAAM,SAAO,KAAK,QAAQ;",
  "names": []
}
