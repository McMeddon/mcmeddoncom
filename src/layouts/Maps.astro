---
import Layout from './Layout.astro';
import '../styles/globalstyles.css';
import { Image, Picture } from 'astro:assets';
/* experimental dynamic */
import heroimage from 'frontmatter.coverimport';
import Herovideo from '../components/Herovideo.astro';


/* -------------------------- */
const {title, description, date, img, tags, cover, pmcpage, patreonpage, downloadlink, video} = await Astro.props;
const {frontmatter} = await Astro.props;

const images = frontmatter.images; //collects the images list from the .md file to be used  in the images.map down below

const heroimage = frontmatter.cover;
const herovideo = frontmatter.video;

console.log(frontmatter.video)

/* console.log(heroimage); */
/* console.log(frontmatter); */

export interface Props {
    pmcpage: string;
    patreonpage: string;
    downloadlink: string;
};
/* 
console.log(frontmatter.pmcpage);
console.log(frontmatter.patreonpage); */
---
<Layout {title}>

    
    <Herovideo
			src={herovideo || "/videos/g7.mp4" } >
	</Herovideo>
    <br>
    <main class="MapsLayout" >
        
        <div class="spacer60"></div>
    
        <!-- ................ -->            
        <div class="grid">
            <!-- ................ -->
            <div>
                
            </div>
            <!-- ................ -->       
    </div>
</div>
<!-- ................ -->
<div class="introbannerdiv">
<!--     <img class="introbanner" src="../../src/images/model2.png" alt=""> -->
    <a href="/">
        <Image 
			class="introbanner" 
			src={import(`../images/model2.png`)} 
			height={100}
			alt=""
			loading="eager"
			decoding="async"
		/>
    </a>
</div>

<style>
.introbannerdiv{
                z-index:9;
				display: grid;
				justify-content: center;
				align-items: center;
                
			}
			.introbanner{
				
				display: grid;
                object-fit: contain;
				justify-content: center;
				align-items: center;
				
			}
    </style>
<!-- ................ -->


<!-- ................ -->        
<Image 
src={import(`${heroimage}`)} 
alt="Dynamic Image" 
class="coverArt"
quality={20}
format="webp"
loading="lazy"
decoding="async"
/>

<style>
    .coverArt{
        margin-top: 2%;
        width: 100vw;
        
        height: 30vw;
        object-fit: cover;
        object-position: top;
        border-radius: 20px;
        margin-bottom: 5vh;
    }
</style>
<div class="slotty">
 
    <filler> 
        <div>
            <h1>{frontmatter.title}</h1>
            <br>
        <button class="btn button btn-pmc"><a href={(`https://www.planetminecraft.com/project/${frontmatter.title}`)} >See Planet Minecraft</a></button>
        <!-- <button class="btn button btn-pmc"><a href={ (https://www.planetminecraft.com/project/'${title})|| frontmatter.pmcpage} >See Planet Minecraft</a></button> -->
        <button class="btn button btn-primary"><a href={frontmatter.patreonpage} target="_blank">World Download</a></button>
        <button class="btn button btn-blue"><a href="/world-dynmaps/" target="">Dynmap</a></button>
        <style>

            .button{ 
                width: 100%;
                margin:.2em;
                
            }
        </style>
        </div>
    </filler>
    
    <div>
        <slot />
    </div>
    
</div>

<!-- -----------------------------------------------
<div>
    {images.map(imageSrc => (
        <img src={imageSrc} alt="Image" />
      ))}
  </div>

   -->
<!-- imported alle images aus dem ordner 
works with <img>  -->
<div class="griddo">
    {images.map(imageSrc => (
    <Image 
        src={import(`${imageSrc}`)}  
        alt="Image" 
        loading="lazy"
        height={440}
        quality={50}
        format={"avif"}
        class="hover"
        
        />
      ))}
  </div>

<script>
  </script>

    </main>
</Layout>


<style>
.griddo{
    display: grid;
    grid-template-rows: 1fr auto;
    gap:1em;
    justify-content: center;
    align-items:center;

}


.griddo {
  display: grid;
  grid-template-columns: 1fr; /* Default: single column on small screens */
  gap: 1%;
}

/* Media query for larger screens */
@media (min-width: 768px) { /* Adjust breakpoint as needed */
  .griddo {
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
  }
}


.griddo img{    
    object-fit: contain;
    border-radius: 20px;
    height: max-content;
    transition: cubic-bezier() 1s;
}
@media (min-width: 768px) { 
.hover:hover{
    transform: scale(1.8);
    z-index: 99;
    transition: cubic-bezier(0.075, 0.82, 0.165, 1) 1s;
    box-shadow: rgba(0, 0, 0, 0.65) 0px 54px 55px, rgba(0, 0, 0, 0.62) 0px -12px 30px, rgba(0, 0, 0, 0.62) 0px 4px 6px, rgba(0, 0, 0, 0.67) 0px 12px 13px, rgba(0, 0, 0, 0.09) 0px -3px 5px;
}
}

.slotty{
    padding-bottom:2%;
    text-shadow: 0px 5px 10px rgba(0, 0, 0, 1),
    0px 5px 20px rgba(0, 0, 0, 1);
    align-items: center;   
}

.slotty {
  display: grid;
  grid-template-columns: 2fr 4fr; /* Two columns on larger screens */
  gap: 20px; /* Adjust spacing between items as needed */
}

/* Media query for smaller screens (adjust breakpoint as needed) */
@media (max-width: 768px) { 
  .slotty {
    grid-template-columns: 1fr; /* One column on smaller screens */
  }
}
/* ------------------------------ */



/* ------------------------------ */
</style>